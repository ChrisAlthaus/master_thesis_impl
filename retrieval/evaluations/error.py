script = """
def m1 = doc['mask'].value;
def m2 = params.queryMask;
int[] x = new int[m1.length]; 
for(int i; i < m1.length; i++) {
    if (m1.charAt(i) == '1' && m2.charAt(i) == '1') {
        x[i] = 1;
    }
Debug.explain(x);
def vec1 = params.queryVector * x;
def vec2 = doc['gpd'] * x;
return cosineSimilarity(vec1, vec2) + 1.0;
"""
print(len(script))
print(script[724:749])


11111 11111 11111 11111 11111 11111 00001 11111 11110000110000000011111011
11111 11111 11111 11111 11111 11111 00001 11111 11110000110000000011111011

[-1, -1, -1, 0.009234815955502323, 0.2987786873100929, 0.0, 0.4094948580040202, 0.03034304215323175, 0.21046933104713, 0.003957815987791626, 0.4806695714968144, 0.27968337472097665, 0.04307706038190097, 0.24406329487888645, 0.6480618421620434, 0.4960422971756517, 0.06021170315206964, 0.581794310504193, 0.5689789277597772, 0.6068602395262707, 0.3752256101848306, 0.7480210731455303, 0.45430860002939233, 0.7796833747209767, 0.17751809785227857, 0.777044931318843, 0.7113282793030701, 0.9894459246222831, 0.7100102269575842, 1.0, -1, -1, -1, -1, 0.42717133640405447, 0.4705075263977051, 0.36544018906635667, 0.6004938862070986, 0.2524422550370259, 0.36903618177543185, 1.0, 0.7557064230280847, 0.4722578578751973, 0.0, -1, -1, -1, -1, 0.8421136785689012, 0.8411792107440552, -1, -1, -1, -1, -1, -1, -1, -1, 0.3163041109067975, 0.33564309731915387, 0.6077928731143175, 1.7050647568068962, 0.2879783408714873, -1, 0.2867761372352776, -1]
"gpd-array":[-1,-1,-1,0.009234815955502323,0.2987786873100929,0.0,0.4094948580040202,0.03034304215323175,0.21046933104713,0.003957815987791626,0.4806695714968144,0.27968337472097665,0.04307706038190097,0.24406329487888645,0.6480618421620434,0.4960422971756517,0.06021170315206964,0.581794310504193,0.5689789277597772,0.6068602395262707,0.3752256101848306,0.7480210731455303,0.45430860002939233,0.7796833747209767,0.17751809785227857,0.777044931318843,0.7113282793030701,0.9894459246222831,0.7100102269575842,1.0,-1,-1,-1,-1,0.42717133640405447,0.4705075263977051,0.36544018906635667,0.6004938862070986,0.2524422550370259,0.36903618177543185,1.0,0.7557064230280847,0.4722578578751973,0.0,-1,-1,-1,-1,0.8421136785689012,0.8411792107440552,-1,-1,-1,-1,-1,-1,-1,-1,0.3163041109067975,0.33564309731915387,0.6077928731143175,1.7050647568068962,0.2879783408714873,-1,0.2867761372352776,-1]